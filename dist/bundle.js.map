{"version":3,"file":"bundle.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6DAA6D,kBAAkB;AAC/E;AACA;AACA;AACA;AACA,gFAAgF,kBAAkB;AAClG;AACA;AACA;AACA;AACA;AACA,wEAAwE,2BAA2B;AACnG,mEAAmE,qBAAqB;AACxF;AACA;AACA;AACA;AACA;AACA,wEAAwE,kCAAkC;AAC1G,mEAAmE,4BAA4B;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW;AACtE,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA,CAAC","sources":["webpack://calculator/./scripts.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n    // عناصر النموذج\n    const amountInput = document.getElementById(\"amount\");\n    const percentageInput = document.getElementById(\"percentage\");\n    const resultDiv = document.getElementById(\"result\");\n    const tafqitDiv = document.getElementById(\"convertedResult\");\n    const form = document.getElementById(\"percentageForm\");\n    const operationSelect = document.getElementById(\"operation\");\n\n    // التحقق من صحة المدخلات\n    function validateInputs() {\n        const amount = parseFloat(amountInput.value);\n        const percentage = parseFloat(percentageInput.value);\n        const isAmountValid = !isNaN(amount) && amount > 0;\n        const isPercentageValid = !isNaN(percentage) && percentage > 0 && percentage <= 100;\n        form.querySelector(\"button[type='submit']\").disabled = !(isAmountValid && isPercentageValid);\n    }\n\n    amountInput.addEventListener(\"input\", validateInputs);\n    percentageInput.addEventListener(\"input\", validateInputs);\n\n    form.addEventListener(\"submit\", function(event) {\n        event.preventDefault();\n        const amount = parseFloat(amountInput.value);\n        const percentage = parseFloat(percentageInput.value);\n        const operation = operationSelect.value;\n        let result = 0;\n        let tafqitText = \"\";\n\n        // تحقق صارم\n        if (isNaN(amount) || amount <= 0) {\n            resultDiv.innerHTML = \"<span style='color:red'>الرجاء إدخال مبلغ صحيح.</span>\";\n            tafqitDiv.innerHTML = \"\";\n            return;\n        }\n        if (isNaN(percentage) || percentage <= 0 || percentage > 100) {\n            resultDiv.innerHTML = \"<span style='color:red'>الرجاء إدخال نسبة مئوية صحيحة بين 1 و 100.</span>\";\n            tafqitDiv.innerHTML = \"\";\n            return;\n        }\n\n        switch (operation) {\n            case \"calculateTax\":\n                result = preciseMul(amount, percentage) / 100;\n                resultDiv.innerHTML = `<h3>الضريبة:</h3><p>${result.toFixed(4)}</p>`;\n                tafqitText = tafqit(result);\n                break;\n            case \"calculateTotalIncludingTax\":\n                result = preciseMul(amount, (1 + percentage / 100));\n                resultDiv.innerHTML = `<h3>المبلغ الإجمالي مع الضريبة:</h3><p>${result.toFixed(4)}</p>`;\n                tafqitText = tafqit(result);\n                break;\n            case \"calculateAmountBeforeTax\":\n                const amountBeforeTax = amount / (1 + percentage / 100);\n                const taxAmount = amount - amountBeforeTax;\n                resultDiv.innerHTML = `<h3>المبلغ قبل الضريبة:</h3><p>${amountBeforeTax.toFixed(4)}</p>\n                                       <h3>مقدار الضريبة:</h3><p>${taxAmount.toFixed(4)}</p>`;\n                tafqitText = tafqit(amountBeforeTax) + \"<br>\" + tafqit(taxAmount);\n                break;\n            case \"extractAndSubtractTax\":\n                const amountBeforeTaxExtract = amount / (1 + percentage / 100);\n                const taxExtractAmount = amount - amountBeforeTaxExtract;\n                resultDiv.innerHTML = `<h3>المبلغ قبل الضريبة:</h3><p>${amountBeforeTaxExtract.toFixed(4)}</p>\n                                       <h3>مقدار الضريبة:</h3><p>${taxExtractAmount.toFixed(4)}</p>`;\n                tafqitText = tafqit(amountBeforeTaxExtract) + \"<br>\" + tafqit(taxExtractAmount);\n                break;\n            default:\n                resultDiv.innerHTML = \"<span style='color:red'>عملية غير معروفة.</span>\";\n                tafqitText = \"\";\n        }\n        tafqitDiv.innerHTML = `<h3>نتيجة التفقيط:</h3><p>${tafqitText}</p>`;\n    });\n\n    // دوال رياضية دقيقة\n    function preciseMul(a, b) {\n        // ضرب بدقة عالية للأرقام العشرية\n        const aStr = a.toString(), bStr = b.toString();\n        const aDec = (aStr.split('.')[1] || '').length;\n        const bDec = (bStr.split('.')[1] || '').length;\n        return Number((a * b).toFixed(aDec + bDec));\n    }\n\n    // دالة تفقيط احترافية للريال والهللة\n    function tafqit(num) {\n        if (isNaN(num)) return \"\";\n        num = Number(num).toFixed(2);\n        let [intPart, decPart] = num.split('.');\n        intPart = parseInt(intPart);\n        decPart = parseInt(decPart);\n        // دوال الأرقام\n        const units = [\"\", \"واحد\", \"اثنان\", \"ثلاثة\", \"أربعة\", \"خمسة\", \"ستة\", \"سبعة\", \"ثمانية\", \"تسعة\"];\n        const teens = [\"عشرة\", \"أحد عشر\", \"اثنا عشر\", \"ثلاثة عشر\", \"أربعة عشر\", \"خمسة عشر\", \"ستة عشر\", \"سبعة عشر\", \"ثمانية عشر\", \"تسعة عشر\"];\n        const tens = [\"\", \"عشرة\", \"عشرون\", \"ثلاثون\", \"أربعون\", \"خمسون\", \"ستون\", \"سبعون\", \"ثمانون\", \"تسعون\"];\n        const hundreds = [\"\", \"مائة\", \"مائتان\", \"ثلاثمائة\", \"أربعمائة\", \"خمسمائة\", \"ستمائة\", \"سبعمائة\", \"ثمانمائة\", \"تسعمائة\"];\n        const scales = [\"\", \"ألف\", \"مليون\", \"مليار\"];\n\n        function chunkToWords(chunk) {\n            let words = [];\n            let h = Math.floor(chunk / 100);\n            let t = chunk % 100;\n            if (h > 0) words.push(hundreds[h]);\n            if (t > 0) {\n                if (t < 10) words.push(units[t]);\n                else if (t < 20) words.push(teens[t - 10]);\n                else {\n                    let u = t % 10;\n                    let d = Math.floor(t / 10);\n                    if (u > 0) words.push(units[u]);\n                    words.push(tens[d]);\n                }\n            }\n            return words.join(\" و \");\n        }\n\n        function getScaleWord(chunk, scaleIdx) {\n            if (scaleIdx === 0) return \"\";\n            if (chunk === 1) return scales[scaleIdx];\n            if (chunk === 2) return scales[scaleIdx] + \"ان\";\n            if (chunk >= 3 && chunk <= 10) return scales[scaleIdx] + \"ات\";\n            return scales[scaleIdx];\n        }\n\n        let parts = [];\n        let i = 0;\n        let tempInt = intPart;\n        while (tempInt > 0 && i < scales.length) {\n            let chunk = tempInt % 1000;\n            if (chunk > 0) {\n                let chunkWords = chunkToWords(chunk);\n                let scaleWord = getScaleWord(chunk, i);\n                if (scaleWord) {\n                    if (chunk === 1) {\n                        chunkWords = scaleWord;\n                    } else if (chunk === 2) {\n                        chunkWords = scaleWord + \"ان\";\n                    } else if (chunk >= 3 && chunk <= 10) {\n                        chunkWords += \" \" + scaleWord + \"ات\";\n                    } else {\n                        chunkWords += \" \" + scaleWord;\n                    }\n                }\n                parts.unshift(chunkWords.trim());\n            }\n            tempInt = Math.floor(tempInt / 1000);\n            i++;\n        }\n        let rialText = parts.join(\" و \");\n        // قواعد الجمع والمثنى والمفرد للريال\n        if (intPart === 1) rialText += \" ريال\";\n        else if (intPart === 2) rialText += \" ريالان\";\n        else if (intPart >= 3 && intPart <= 10) rialText += \" ريالات\";\n        else if (intPart > 10) rialText += \" ريال\";\n\n        let hellahText = \"\";\n        if (decPart && decPart > 0) {\n            let hellahWords = chunkToWords(decPart);\n            if (decPart === 1) hellahText = hellahWords + \" هللة\";\n            else if (decPart === 2) hellahText = hellahWords + \" هللتان\";\n            else if (decPart >= 3 && decPart <= 10) hellahText = hellahWords + \" هللات\";\n            else hellahText = hellahWords + \" هللة\";\n        }\n\n        if (rialText && hellahText) {\n            return rialText + \" و \" + hellahText;\n        } else if (rialText) {\n            return rialText;\n        } else if (hellahText) {\n            return hellahText;\n        } else {\n            return \"صفر\";\n        }\n    }\n\n    validateInputs();\n});\n"],"names":[],"sourceRoot":""}